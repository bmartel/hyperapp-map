var hyperappmap=function(e){const p=e=>"function"==typeof e,r=e=>Array.isArray(e),s=e=>p(e)||r(e)&&s(e[0]),a=(e,r)=>p(r)?e(r):[a(e,r[0]),r[1]],t=(e,a,m)=>p(e)?t(e(a,m),a):r(e)?s(e)?t(e[0],a,p(e[1])?e[1](m):e[1]):e:[e],m=(e,p,r)=>Object.entries(p).map(([e,p])=>[e,r(e,p)]).reduce((e,[p,r])=>(e[p]=r,e),{}),n=e=>(p,s)=>r(s)?s.map(r=>e(p,r)):e(p,s),o=n((e,[p,r])=>[p,m(0,r,(p,r)=>s(r)?e(r):r)]),c=n((e,p)=>p.props?{...p,props:m(0,p.props,(p,r)=>r&&p.startsWith("on")?r.pass?r.pass:e(r):r),children:p.children.map(p=>c(e,p))}:p);return e.makeMap=(e,p)=>{let r=a=>{let m=r.memo.get(a);return m||(m=(r=>(a,m,n=t(r,e(a),m),c=t(p,a,n[0]))=>[c[0],...o(s,n.slice(1)),...c.slice(1)])(a),r.memo.set(a,m)),m};r.memo=new Map;let s=e=>a(r,e);return s},e.mapPass=e=>c(e=>({pass:e}),e),e.mapSubs=o,e.mapVNode=c,e}({});
//# sourceMappingURL=hyperappmap.js.map